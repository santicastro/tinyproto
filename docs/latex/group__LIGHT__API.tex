\hypertarget{group__LIGHT__API}{}\section{Tiny light protocol A\+PI functions}
\label{group__LIGHT__API}\index{Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structSTinyLightData}{S\+Tiny\+Light\+Data}
\item 
class \hyperlink{classTiny_1_1ProtoLight}{Tiny\+::\+Proto\+Light}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__LIGHT__API_ga221cf790724163d1aee89ad6a6c9a14d}{tiny\+\_\+light\+\_\+init} (void $\ast$handle, \hyperlink{tiny__types_8h_aafd634660bba76cace57a8f9b01e044d}{write\+\_\+block\+\_\+cb\+\_\+t} write\+\_\+func, \hyperlink{tiny__types_8h_a15bec127d9ee63658563d62e92b5261b}{read\+\_\+block\+\_\+cb\+\_\+t} read\+\_\+func, void $\ast$pdata)
\item 
int \hyperlink{group__LIGHT__API_ga6e045b8f4ef551c274fbacaa625e2748}{tiny\+\_\+light\+\_\+close} (void $\ast$handle)
\item 
int \hyperlink{group__LIGHT__API_ga12391f0d4c06fb6296b84fd4681a87f7}{tiny\+\_\+light\+\_\+send} (void $\ast$handle, const uint8\+\_\+t $\ast$pbuf, int len)
\begin{DoxyCompactList}\small\item\em sends frame with user payload to communication channel in blocking mode \end{DoxyCompactList}\item 
int \hyperlink{group__LIGHT__API_ga0181db79922917957779e1f2d740c407}{tiny\+\_\+light\+\_\+read} (void $\ast$handle, uint8\+\_\+t $\ast$pbuf, int len)
\begin{DoxyCompactList}\small\item\em reads frame from the channel in blocking mode. \end{DoxyCompactList}\item 
\hyperlink{group__HDLC__API_gabeaf7578aed5279d3af891bd85a9f961}{hdlc\+\_\+handle\+\_\+t} \hyperlink{group__LIGHT__API_gabf582877977ecd57299d8675a1279e36}{tiny\+\_\+light\+\_\+get\+\_\+hdlc} (void $\ast$handle)
\begin{DoxyCompactList}\small\item\em returns lower level hdlc handle. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Function Documentation}
\mbox{\Hypertarget{group__LIGHT__API_ga6e045b8f4ef551c274fbacaa625e2748}\label{group__LIGHT__API_ga6e045b8f4ef551c274fbacaa625e2748}} 
\index{Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}!tiny\+\_\+light\+\_\+close@{tiny\+\_\+light\+\_\+close}}
\index{tiny\+\_\+light\+\_\+close@{tiny\+\_\+light\+\_\+close}!Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}}
\subsubsection{\texorpdfstring{tiny\+\_\+light\+\_\+close()}{tiny\_light\_close()}}
{\footnotesize\ttfamily int tiny\+\_\+light\+\_\+close (\begin{DoxyParamCaption}\item[{void $\ast$}]{handle }\end{DoxyParamCaption})}

The function closes channel. 
\begin{DoxyParams}{Parameters}
{\em handle} & -\/ pointer to Tiny Light data. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
tiny\+\_\+init() 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+D\+A\+TA, T\+I\+N\+Y\+\_\+\+N\+O\+\_\+\+E\+R\+R\+OR. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This function is not thread safe. 
\end{DoxyRemark}
\mbox{\Hypertarget{group__LIGHT__API_gabf582877977ecd57299d8675a1279e36}\label{group__LIGHT__API_gabf582877977ecd57299d8675a1279e36}} 
\index{Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}!tiny\+\_\+light\+\_\+get\+\_\+hdlc@{tiny\+\_\+light\+\_\+get\+\_\+hdlc}}
\index{tiny\+\_\+light\+\_\+get\+\_\+hdlc@{tiny\+\_\+light\+\_\+get\+\_\+hdlc}!Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}}
\subsubsection{\texorpdfstring{tiny\+\_\+light\+\_\+get\+\_\+hdlc()}{tiny\_light\_get\_hdlc()}}
{\footnotesize\ttfamily \hyperlink{group__HDLC__API_gabeaf7578aed5279d3af891bd85a9f961}{hdlc\+\_\+handle\+\_\+t} tiny\+\_\+light\+\_\+get\+\_\+hdlc (\begin{DoxyParamCaption}\item[{void $\ast$}]{handle }\end{DoxyParamCaption})}



returns lower level hdlc handle. 

Returns lower level hdlc handle to use with low level function. If you use high level light A\+PI, please be careful with low-\/level hdlc functions in case you mix the calls.


\begin{DoxyParams}{Parameters}
{\em handle} & -\/ pointer to Tiny Light data. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
hdlc handle or N\+U\+LL 
\end{DoxyReturn}
\mbox{\Hypertarget{group__LIGHT__API_ga221cf790724163d1aee89ad6a6c9a14d}\label{group__LIGHT__API_ga221cf790724163d1aee89ad6a6c9a14d}} 
\index{Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}!tiny\+\_\+light\+\_\+init@{tiny\+\_\+light\+\_\+init}}
\index{tiny\+\_\+light\+\_\+init@{tiny\+\_\+light\+\_\+init}!Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}}
\subsubsection{\texorpdfstring{tiny\+\_\+light\+\_\+init()}{tiny\_light\_init()}}
{\footnotesize\ttfamily int tiny\+\_\+light\+\_\+init (\begin{DoxyParamCaption}\item[{void $\ast$}]{handle,  }\item[{\hyperlink{tiny__types_8h_aafd634660bba76cace57a8f9b01e044d}{write\+\_\+block\+\_\+cb\+\_\+t}}]{write\+\_\+func,  }\item[{\hyperlink{tiny__types_8h_a15bec127d9ee63658563d62e92b5261b}{read\+\_\+block\+\_\+cb\+\_\+t}}]{read\+\_\+func,  }\item[{void $\ast$}]{pdata }\end{DoxyParamCaption})}

The function initializes internal structures for Tiny channel and return handle to be used with all Tiny and I\+PC functions. 
\begin{DoxyParams}{Parameters}
{\em handle} & -\/ pointer to Tiny Light data \\
\hline
{\em write\+\_\+func} & -\/ pointer to write data function (to communication channel). \\
\hline
{\em read\+\_\+func} & -\/ pointer to read function (from communication channel). read\+\_\+func is not required and should be N\+U\+LL, if event-\/based A\+PI of Tiny Protocol is used. \\
\hline
{\em pdata} & -\/ pointer to a user private data. This pointer is passed to write\+\_\+func/read\+\_\+func. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{tiny__types_8h_aafd634660bba76cace57a8f9b01e044d}{write\+\_\+block\+\_\+cb\+\_\+t} 

\hyperlink{tiny__types_8h_a15bec127d9ee63658563d62e92b5261b}{read\+\_\+block\+\_\+cb\+\_\+t} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
T\+I\+N\+Y\+\_\+\+N\+O\+\_\+\+E\+R\+R\+OR or error code. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This function is not thread safe. 
\end{DoxyRemark}
\mbox{\Hypertarget{group__LIGHT__API_ga0181db79922917957779e1f2d740c407}\label{group__LIGHT__API_ga0181db79922917957779e1f2d740c407}} 
\index{Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}!tiny\+\_\+light\+\_\+read@{tiny\+\_\+light\+\_\+read}}
\index{tiny\+\_\+light\+\_\+read@{tiny\+\_\+light\+\_\+read}!Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}}
\subsubsection{\texorpdfstring{tiny\+\_\+light\+\_\+read()}{tiny\_light\_read()}}
{\footnotesize\ttfamily int tiny\+\_\+light\+\_\+read (\begin{DoxyParamCaption}\item[{void $\ast$}]{handle,  }\item[{uint8\+\_\+t $\ast$}]{pbuf,  }\item[{int}]{len }\end{DoxyParamCaption})}



reads frame from the channel in blocking mode. 

The function reads user data from communication channel 
\begin{DoxyParams}{Parameters}
{\em handle} & -\/ pointer to Tiny Light data. \\
\hline
{\em pbuf} & a const pointer to unsigned char -\/ buffer with data to send \\
\hline
{\em len} & an integer argument -\/ length of data to send \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__ERROR__FLAGS_ga541a9e67a84e39595ad647d641c4df2e}{T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+D\+A\+TA} 

\hyperlink{group__ERROR__FLAGS_ga84e6ca143550038e1a71cf36078d1926}{T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+F\+A\+I\+L\+ED} 

\hyperlink{group__ERROR__FLAGS_ga7bbe7440d11ad304b0af68e011f4eab7}{T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+O\+O\+\_\+\+L\+A\+R\+GE} 

\hyperlink{group__ERROR__FLAGS_gae1949de45d9c478830dad9c9b996193a}{T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+O\+U\+T\+\_\+\+O\+F\+\_\+\+S\+Y\+NC} 

\hyperlink{group__ERROR__FLAGS_ga9b3e170e1c6ce269f216ef4a1ac61995}{T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+B\+U\+SY} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+D\+A\+TA, T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+F\+A\+I\+L\+ED, T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+O\+U\+T\+\_\+\+O\+F\+\_\+\+S\+Y\+NC, T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+B\+U\+SY, T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+O\+O\+\_\+\+L\+A\+R\+GE or number of sent bytes. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+D\+A\+T\+A\+\_\+\+T\+O\+O\+\_\+\+L\+A\+R\+GE can be returned in successful case. If frame is received, but passed buffer to the function is too small to fit all. 
\end{DoxyNote}
\begin{DoxyRemark}{Remarks}
This function is not thread safe. 
\end{DoxyRemark}
\mbox{\Hypertarget{group__LIGHT__API_ga12391f0d4c06fb6296b84fd4681a87f7}\label{group__LIGHT__API_ga12391f0d4c06fb6296b84fd4681a87f7}} 
\index{Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}!tiny\+\_\+light\+\_\+send@{tiny\+\_\+light\+\_\+send}}
\index{tiny\+\_\+light\+\_\+send@{tiny\+\_\+light\+\_\+send}!Tiny light protocol A\+P\+I functions@{Tiny light protocol A\+P\+I functions}}
\subsubsection{\texorpdfstring{tiny\+\_\+light\+\_\+send()}{tiny\_light\_send()}}
{\footnotesize\ttfamily int tiny\+\_\+light\+\_\+send (\begin{DoxyParamCaption}\item[{void $\ast$}]{handle,  }\item[{const uint8\+\_\+t $\ast$}]{pbuf,  }\item[{int}]{len }\end{DoxyParamCaption})}



sends frame with user payload to communication channel in blocking mode 

The function sends data to communication channel. The function works in blocking mode, i.\+e. it returns control only if user data are successfully sent, or in case of error. 
\begin{DoxyParams}{Parameters}
{\em handle} & -\/ pointer to Tiny Light data. \\
\hline
{\em pbuf} & -\/ a const pointer to unsigned char -\/ buffer with data to send \\
\hline
{\em len} & -\/ an integer argument -\/ length of data to send \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__ERROR__FLAGS_ga541a9e67a84e39595ad647d641c4df2e}{T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+D\+A\+TA} 

\hyperlink{group__ERROR__FLAGS_ga84e6ca143550038e1a71cf36078d1926}{T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+F\+A\+I\+L\+ED} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+D\+A\+TA, T\+I\+N\+Y\+\_\+\+E\+R\+R\+\_\+\+F\+A\+I\+L\+ED or number of sent bytes. 
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This function is thread safe. 
\end{DoxyRemark}
